var Bundle=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const c="undefined"!=typeof window;let a=c?()=>window.performance.now():()=>Date.now(),i=c?t=>requestAnimationFrame(t):t;const u=new Set;function d(t){u.forEach((e=>{e.c(t)||(u.delete(e),e.f())})),0!==u.size&&i(d)}function f(t,e){t.appendChild(e)}function p(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function m(t){const e=h("style");return function(t,e){f(t.head||t,e),e.sheet}(p(t),e),e.sheet}function g(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function $(){return y(" ")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.data!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function M(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}const _=new Map;let O,j=0;function E(t,e,n,o,r,s,l,c=0){const a=16.666/o;let i="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*s(t);i+=100*t+`%{${l(o,1-o)}}\n`}const u=i+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,f=p(t),{stylesheet:g,rules:b}=_.get(f)||function(t,e){const n={stylesheet:m(e),rules:{}};return _.set(t,n),n}(f,t);b[d]||(b[d]=!0,g.insertRule(`@keyframes ${d} ${u}`,g.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${d} ${o}ms linear ${r}ms 1 both`,j+=1,d}function C(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),j-=r,j||i((()=>{j||(_.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&b(e)})),_.clear())})))}function T(t){O=t}function S(t){(function(){if(!O)throw new Error("Function called outside component initialization");return O})().$$.on_mount.push(t)}const A=[],F=[];let L=[];const N=[],P=Promise.resolve();let D=!1;function I(t){L.push(t)}const R=new Set;let B,z=0;function q(){if(0!==z)return;const t=O;do{try{for(;z<A.length;){const t=A[z];z++,T(t),H(t.$$)}}catch(t){throw A.length=0,z=0,t}for(T(null),A.length=0,z=0;F.length;)F.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];R.has(e)||(R.add(e),e())}L.length=0}while(A.length);for(;N.length;)N.pop()();D=!1,R.clear(),T(t)}function H(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}function J(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}(`${e?"intro":"outro"}${n}`))}const W=new Set;let U;function V(){U={r:0,c:[],p:U}}function Y(){U.r||r(U.c),U=U.p}function G(t,e){t&&t.i&&(W.delete(t),t.i(e))}function K(t,e,n,o){if(t&&t.o){if(W.has(t))return;W.add(t),U.c.push((()=>{W.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}const Q={duration:0};function X(n,o,l,c){const f={direction:"both"};let p=o(n,l,f),m=c?0:1,g=null,b=null,h=null;function y(){h&&C(n,h)}function $(t,e){const n=t.b-m;return e*=Math.abs(n),{a:m,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function x(o){const{delay:s=0,duration:l=300,easing:c=e,tick:f=t,css:x}=p||Q,w={start:a()+s,b:o};o||(w.group=U,U.r+=1),g||b?b=w:(x&&(y(),h=E(n,m,o,l,s,c,x)),o&&f(0,1),g=$(w,l),I((()=>J(n,o,"start"))),function(t){let e;0===u.size&&i(d),new Promise((n=>{u.add(e={c:t,f:n})}))}((t=>{if(b&&t>b.start&&(g=$(b,l),b=null,J(n,g.b,"start"),x&&(y(),h=E(n,m,g.b,g.duration,0,c,p.css))),g)if(t>=g.end)f(m=g.b,1-m),J(n,g.b,"end"),b||(g.b?y():--g.group.r||r(g.group.c)),g=null;else if(t>=g.start){const e=t-g.start;m=g.a+g.d*c(e/g.duration),f(m,1-m)}return!(!g&&!b)})))}return{run(t){s(p)?(B||(B=Promise.resolve(),B.then((()=>{B=null}))),B).then((()=>{p=p(f),x(t)})):x(t)},end(){y(),g=b=null}}}function Z(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];L.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),L=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(A.push(t),D||(D=!0,P.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,l,c,a,i,u,d,f=[-1]){const p=O;T(e);const m=e.$$={fragment:null,ctx:[],props:u,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(p?p.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:l.target||p.$$.root};d&&d(m.root);let g=!1;if(m.ctx=c?c(e,l.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&i(m.ctx[t],m.ctx[t]=r)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](r),g&&tt(e,t)),n})):[],m.update(),g=!0,r(m.before_update),m.fragment=!!a&&a(m.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);m.fragment&&m.fragment.l(t),t.forEach(b)}else m.fragment&&m.fragment.c();l.intro&&G(e.$$.fragment),function(t,e,o,l){const{fragment:c,after_update:a}=t.$$;c&&c.m(e,o),l||I((()=>{const e=t.$$.on_mount.map(n).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),a.forEach(I)}(e,l.target,l.anchor,l.customElement),q()}T(p)}class nt{$destroy(){Z(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ot(t){const e=t-1;return e*e*e+1}function rt(t,{delay:e=0,duration:n=400,easing:o=ot,axis:r="y"}={}){const s=getComputedStyle(t),l=+s.opacity,c="y"===r?"height":"width",a=parseFloat(s[c]),i="y"===r?["top","bottom"]:["left","right"],u=i.map((t=>`${t[0].toUpperCase()}${t.slice(1)}`)),d=parseFloat(s[`padding${u[0]}`]),f=parseFloat(s[`padding${u[1]}`]),p=parseFloat(s[`margin${u[0]}`]),m=parseFloat(s[`margin${u[1]}`]),g=parseFloat(s[`border${u[0]}Width`]),b=parseFloat(s[`border${u[1]}Width`]);return{delay:e,duration:n,easing:o,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*l};${c}: ${t*a}px;padding-${i[0]}: ${t*d}px;padding-${i[1]}: ${t*f}px;margin-${i[0]}: ${t*p}px;margin-${i[1]}: ${t*m}px;border-${i[0]}-width: ${t*g}px;border-${i[1]}-width: ${t*b}px;`}}function st(t,e,n){const o=t.slice();return o[23]=e[n],o}function lt(t){let e,n,o,r,s=t[5](Object.keys(t[1])),l=[];for(let e=0;e<s.length;e+=1)l[e]=ct(st(t,s,e));return{c(){e=h("div"),n=h("div");for(let t=0;t<l.length;t+=1)l[t].c();w(n,"class","flex flex-col w-full space-y-2 p-2"),w(e,"class","border rounded-md border-gray-200 w-full max-h-[300px] overflow-y-auto overflow-x-hidden scrollbar-thin-custom svelte-fueanr")},m(t,o){g(t,e,o),f(e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(n,null);r=!0},p(t,e){if(162&e){let o;for(s=t[5](Object.keys(t[1])),o=0;o<s.length;o+=1){const r=st(t,s,o);l[o]?l[o].p(r,e):(l[o]=ct(r),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=s.length}},i(t){r||(I((()=>{r&&(o||(o=X(e,rt,{},!0)),o.run(1))})),r=!0)},o(t){o||(o=X(e,rt,{},!1)),o.run(0),r=!1},d(t){t&&b(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(l,t),t&&o&&o.end()}}}function ct(t){let e,n,o,r,s,l,c,a,i,u,d,p,m=t[23]+"",k=t[1][t[23]].memo?.replaceAll("\n","<br/>")+"";function M(){return t[13](t[23])}return{c(){e=h("div"),n=h("div"),o=h("p"),r=y(m),s=$(),l=h("div"),c=h("button"),c.textContent="ðŸ“‹",a=$(),i=h("div"),u=$(),w(o,"class","font-bold text-lg"),w(c,"class","cursor-pointer"),w(l,"class","flex grow justify-end items-center"),w(n,"class","flex flex-row w-full h-auto px-2 border-b border-gray-50 bg-sky-50"),w(i,"class","p-1 w-full h-[100px] overflow-y-auto overflow-x-hidden scrollbar-thin-custom text-wrap break-words svelte-fueanr"),w(e,"class","flex flex-col w-full space-y-1 border rounded-md border-gray-50")},m(t,m){g(t,e,m),f(e,n),f(n,o),f(o,r),f(n,s),f(n,l),f(l,c),f(e,a),f(e,i),i.innerHTML=k,f(e,u),d||(p=x(c,"click",M),d=!0)},p(e,n){t=e,2&n&&m!==(m=t[23]+"")&&v(r,m),2&n&&k!==(k=t[1][t[23]].memo?.replaceAll("\n","<br/>")+"")&&(i.innerHTML=k)},d(t){t&&b(e),d=!1,p()}}}function at(t){let e,n,o,r;return{c(){e=h("p"),n=y(t[3]),w(e,"class","text-sky-500")},m(t,o){g(t,e,o),f(e,n),r=!0},p(t,e){(!r||8&e)&&v(n,t[3])},i(t){r||(I((()=>{r&&(o||(o=X(e,rt,{},!0)),o.run(1))})),r=!0)},o(t){o||(o=X(e,rt,{},!1)),o.run(0),r=!1},d(t){t&&b(e),t&&o&&o.end()}}}function it(t){let e,n,o,s,l,c,a,i,u,d,p,m,y,v,_,O,j,E,C,T,S,A,F,L,N=Object.keys(t[1]).length>0,P=N&&lt(t),D=t[2]&&at(t);return{c(){e=h("div"),n=h("div"),o=h("p"),o.textContent="TODAY MEMO",s=$(),l=h("textarea"),c=$(),a=h("div"),i=h("button"),i.textContent="SAVE",u=$(),d=h("div"),p=h("button"),p.textContent="â†–",m=$(),y=h("button"),y.textContent="â†—",v=$(),_=h("button"),_.textContent="â†™",O=$(),j=h("button"),j.textContent="â†˜",C=$(),P&&P.c(),T=$(),S=h("div"),D&&D.c(),w(o,"class","flex h-[50px] justify-center items-center text-xl font-bold italic border-b"),M(l,"background","#fffae3"),w(l,"class","scrollbar-thin-custom border rounded-md p-1 border-gray-50 svelte-fueanr"),w(l,"rows","5"),w(l,"cols","30"),w(l,"placeholder","write memo"),w(i,"class","w-full h-[30px] bg-sky-200 hover:bg-sky-400 border rounded-md border-gray-50 font-bold"),w(p,"class","w-full bg-white hover:bg-gray-400 border rounded-md border-gray-100 font-bold"),w(y,"class","w-full bg-white hover:bg-gray-400 border rounded-md border-gray-100 font-bold"),w(_,"class","w-full bg-white hover:bg-gray-400 border rounded-md border-gray-100 font-bold"),w(j,"class","w-full bg-white hover:bg-gray-400 border rounded-md border-gray-100 font-bold"),w(d,"class","flex flex-row h-[30px] w-full p-0.5 bg-gray-200 border border-gray-50 space-x-0.5 rounded-md"),w(a,"class","flex flex-row w-full justify-center items-center space-x-1"),w(n,"class",E="flex flex-col p-2 space-y-1 border rounded-md border-gray-200 "+(Object.keys(t[1]).length>0?"mb-2":"")),w(S,"class","absolute"),M(S,"top","5px"),M(S,"left","5px"),w(e,"class","flex flex-col w-[300px] p-2 rounded-md relative border border-dashed border-black bg-white")},m(r,b){g(r,e,b),f(e,n),f(n,o),f(n,s),f(n,l),k(l,t[0]),f(n,c),f(n,a),f(a,i),f(a,u),f(a,d),f(d,p),f(d,m),f(d,y),f(d,v),f(d,_),f(d,O),f(d,j),f(e,C),P&&P.m(e,null),f(e,T),f(e,S),D&&D.m(S,null),A=!0,F||(L=[x(l,"input",t[8]),x(i,"click",t[4]),x(p,"click",t[9]),x(y,"click",t[10]),x(_,"click",t[11]),x(j,"click",t[12])],F=!0)},p(t,[o]){1&o&&k(l,t[0]),(!A||2&o&&E!==(E="flex flex-col p-2 space-y-1 border rounded-md border-gray-200 "+(Object.keys(t[1]).length>0?"mb-2":"")))&&w(n,"class",E),2&o&&(N=Object.keys(t[1]).length>0),N?P?(P.p(t,o),2&o&&G(P,1)):(P=lt(t),P.c(),G(P,1),P.m(e,T)):P&&(V(),K(P,1,1,(()=>{P=null})),Y()),t[2]?D?(D.p(t,o),4&o&&G(D,1)):(D=at(t),D.c(),G(D,1),D.m(S,null)):D&&(V(),K(D,1,1,(()=>{D=null})),Y())},i(t){A||(G(P),G(D),A=!0)},o(t){K(P),K(D),A=!1},d(t){t&&b(e),P&&P.d(),D&&D.d(),F=!1,r(L)}}}function ut(t,e,n){let o="",r={},s=!1,l="",c="TL";S((()=>{i(),u(),p(),m()}));const a=async t=>new Promise(((e,n)=>{setTimeout((()=>{e(!0)}),t)})),i=()=>{chrome.runtime.sendMessage({type:"reSettingChromeLocalStorage"},(t=>{t.status}))},u=()=>{chrome.runtime.sendMessage({type:"getMemoPosition"},(t=>{c=t?.position?.memoPosition??"TL"}))},d=t=>{chrome.runtime.sendMessage({type:"saveMemoPosition",position:t},(t=>{t.status}))},f=t=>!t||"object"==typeof t&&0===Object.keys(t).length?{}:Object.fromEntries(Object.entries(t).filter((([t,e])=>{return e&&"object"==typeof e&&!(null==(n=e.memo)||""===n||"object"==typeof n&&!Array.isArray(n)&&0===Object.keys(n).length);var n}))),p=()=>{const t=(new Date).toISOString().slice(0,10);console.log("readTodayMemo",t),chrome.runtime.sendMessage({type:"getTodayMemo"},(e=>{n(0,o=e?.text[t]??"")}))},m=()=>{chrome.runtime.sendMessage({type:"getTotalMemoInfo"},(t=>{n(1,r=t?.info?.totalMemoInfo&&Object.keys(t?.info?.totalMemoInfo).length>0?"string"==typeof t?.info?.totalMemoInfo?JSON.parse(t.info.totalMemoInfo):t.info.totalMemoInfo:{})}))},g=t=>{c=t,d(c),chrome.runtime.sendMessage({type:"openBrowserMemoModal",position:c},(async t=>{!0===t?.isOpen&&(n(3,l="open success"),n(2,s=!0),await a(1e3),n(2,s=!1))}))},b=async t=>{n(3,l="copy success"),n(2,s=!0),navigator.clipboard.writeText(t),await a(1e3),n(2,s=!1)};return[o,r,s,l,async()=>{const t=(new Date).toISOString().slice(0,10);d(c),chrome.runtime.sendMessage({type:"saveMemo",text:o},(t=>{t.status})),n(1,r[t]={memo:o},r),n(1,r=f(r)),chrome.runtime.sendMessage({type:"updateTotalMemo",info:JSON.stringify(r)},(t=>{t.status})),n(3,l="save success"),n(2,s=!0),await a(1e3),n(2,s=!1)},t=>t.sort(((t,e)=>new Date(e)-new Date(t))),g,b,function(){o=this.value,n(0,o)},()=>g("TL"),()=>g("TR"),()=>g("BL"),()=>g("BR"),t=>b(r[t].memo)]}return new class extends nt{constructor(t){super(),et(this,t,ut,it,l,{})}}({target:document.body,props:{name:"world"}})}();
